var EPM;(function(n){(function(n){var t=function(){function n(){if(n._instance)throw new Error("Error: Instantiation failed: Use EPM.UI.Loader.current() instead of new.");else this._elements=[],n._instance=this}return n.current=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.startLoading=function(n){var i,r,u,f,e,t,o;this.elementIsRegistered(n)||(this._elements.push(n),$("#"+n.id).css("visibility","hidden"),i=$("#"+n.id),r=i.offset(),n.page?(e=$("#s4-workspace"),u=e.height(),f=e.width()):(u=n.height||i.height(),f=n.width||i.width()),t=$('<div id="'+n.id+'_epm_loader" class="epm-loader">&nbsp;<\/div>'),n.bgColor&&t.css("background",n.bgColor),t.height(u),t.width(f),t.hide(),t.offset({top:r.top,left:r.left}),$("body").append(t.fadeIn(300)),o=this,setTimeout(function(){o.showLoading(n)},n.duration||2e3))},n.prototype.stopLoading=function(n){var i={id:n},r,t;if(this.elementIsRegistered(i)){for(r=-1,t=0;t<this._elements.length;t++)if(i.id===this._elements[t].id){r=t;break}r!==-1&&($("#"+i.id+"_epm_loader").fadeOut(300).remove(),$("#"+i.id).css("visibility","visible").hide().fadeIn(2e3),this._elements.splice(r,1))}},n.prototype.elementIsRegistered=function(n){var i=!1,t;for(this._elements=this._elements||[],t=0;t<this._elements.length;t++)if(n.id===this._elements[t].id){i=!0;break}return i},n.prototype.showLoading=function(n){if(this.elementIsRegistered(n)){var t=$("<div>Loading...<\/div>");t.offset({top:($("#"+n.id+"_epm_loader").height()-20)/2});$("#"+n.id+"_epm_loader").append(t)}},n}();n.Loader=t;SP.SOD.notifyScriptLoadedAndExecuteWaitingJobs("EPM.UI")})(n.UI||(n.UI={}));var t=n.UI})(EPM||(EPM={}));
//# sourceMappingURL=EPM.min.js.map