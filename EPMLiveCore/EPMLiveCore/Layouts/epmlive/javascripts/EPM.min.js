var EPM;(function(n){(function(n){var t=function(){function n(){if(n._instance)throw new Error("Error: Instantiation failed: Use EPM.UI.Loader.current() instead of new.");else this._elements=[],n._instance=this}return n.current=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.startLoading=function(n){var o=this,i,r,u,f,e,t;this.elementIsRegistered(n)||(this._elements.push(n),$("#"+n.id).css("visibility","hidden"),i=$("#"+n.id),r=i.offset(),n.page?(e=$("#s4-workspace"),u=e.height(),f=e.width()):(u=n.height||i.height(),f=n.width||i.width()),t=$('<div id="'+n.id+'_epm_loader" class="epm-loader">&nbsp;<\/div>'),n.bgColor&&t.css("background",n.bgColor),t.height(u),t.width(f),t.hide(),t.offset({top:r.top,left:r.left}),$("body").append(t.fadeIn(300)),n.loader=t,n.el=i,setTimeout(function(){o.showLoading(n)},2e3))},n.prototype.stopLoading=function(n){var t={id:n},r,i,u;if(this.elementIsRegistered(t)){for(r=-1,i=0;i<this._elements.length;i++)if(u=this._elements[i],t.id===u.id){r=i;t.loader=u.loader;t.el=u.el;break}r!==-1&&(t.loader.fadeOut(300).remove(),t.el.css("visibility","visible").hide().fadeIn(2e3),this._elements.splice(r,1))}},n.prototype.elementIsRegistered=function(n){var i=!1,t;for(this._elements=this._elements||[],t=0;t<this._elements.length;t++)if(n.id===this._elements[t].id){i=!0;break}return i},n.prototype.showLoading=function(n){if(this.elementIsRegistered(n)){var t=$("<div>Loading...<\/div>");t.offset({top:(n.loader.height()-20)/2});n.loader.append(t)}},n}();n.Loader=t,function(){var n=$.browser;n.msie&&parseInt(n.version)===8&&($.fn.fadeIn=function(){return $.fn.show.apply(this)},$.fn.fadeOut=function(){return $.fn.hide.apply(this)})}();SP.SOD.notifyScriptLoadedAndExecuteWaitingJobs("EPM.UI")})(n.UI||(n.UI={}));var t=n.UI})(EPM||(EPM={}));
//# sourceMappingURL=EPM.min.js.map