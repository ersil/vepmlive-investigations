function CreateEPMLiveWorkspace(n,t){var i=n?SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/QueueCreateWorkspace.aspx?listid="+n+"&itemid="+t):SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/QueueCreateWorkspace.aspx");var r=new SP.Utilities.UrlBuilder(i),u=r.get_url(),f={url:u,title:"Create Workspace",dialogReturnValueCallback:function(n,t){n===1?(toastr.options={closeButton:!1,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.info("Your workspace is being created - we will notify you when it is ready.")):n===-1&&(toastr.options={closeButton:!1,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.error("Something went wrong. Workspace is not being created. Error: "+t))}};SP.UI.ModalDialog.showModalDialog(f)}function OpenIntegrationPage(n,t,i){var s=n.indexOf("."),h=n.substr(0,s),f=n.substr(s+1),e=SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/integration/gotoremote.aspx?control="+h+"&listid="+t+"&itemid="+i),o=new SP.Utilities.UrlBuilder(e),r=o.get_url(),u;if(f==1)window.open(r,"",config="width="+screen.width+",height="+screen.height+",top=0,left=0,toolbar=no, menubar=no, scrollbars=yes, resizable=yes, location=no, directories=no, status=yes");else if(f==2)u={url:r,showMaximized:!0,title:"Integration",dialogReturnValueCallback:function(){}},SP.UI.ModalDialog.showModalDialog(u);else if(f==3)u={url:r,title:"Integration",width:600,dialogReturnValueCallback:function(){}},SP.UI.ModalDialog.showModalDialog(u);else if(f==4){var e=SP.Utilities.Utility.getLayoutsPageUrl("EPMLive/integration/gotoremoteframe.aspx?control="+h+"&listid="+t+"&itemid="+i),o=new SP.Utilities.UrlBuilder(e),r=o.get_url();location.href=r}}(function(n,t,i){var r=0;n.currentSiteId=null,n.currentSiteUrl=null,n.currentWebId=null,n.currentWebUrl=null,n.currentWebFullUrl=null,n.ui={statusbar:{collection:i.observableArray(),add:function(t,r,u,f){var e={collection:i.observableArray(),color:i.observable()};return e.cssClass=i.dependentObservable(function(){return"ms-status-"+this.color()},e),e.append=function(n,t,r,u){var f={title:i.observable(n),message:i.observable(t),icon:i.observable(r),align:i.observable(u||"left")};this.collection.push(f)},e.append(t,r,u,f),e.remove=function(){n.ui.statusbar.collection.remove(this)},this.collection.push(e),e}}},n.utils={isInt:function(n){return/^\d+$/.test(n)},base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var l=n.utils.base64,e="",o,i,r,h,c,s,u,f=0;for(t=l._utf8_encode(t);f<t.length;)o=t.charCodeAt(f++),i=t.charCodeAt(f++),r=t.charCodeAt(f++),h=o>>2,c=(o&3)<<4|i>>4,s=(i&15)<<2|r>>6,u=r&63,isNaN(i)?s=u=64:isNaN(r)&&(u=64),e=e+this._keyStr.charAt(h)+this._keyStr.charAt(c)+this._keyStr.charAt(s)+this._keyStr.charAt(u);return e},decode:function(t){var l=n.utils.base64,i="",o,s,h,c,f,u,e,r=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");r<t.length;)c=this._keyStr.indexOf(t.charAt(r++)),f=this._keyStr.indexOf(t.charAt(r++)),u=this._keyStr.indexOf(t.charAt(r++)),e=this._keyStr.indexOf(t.charAt(r++)),o=c<<2|f>>4,s=(f&15)<<4|u>>2,h=(u&3)<<6|e,i=i+String.fromCharCode(o),u!=64&&(i=i+String.fromCharCode(s)),e!=64&&(i=i+String.fromCharCode(h));return l._utf8_decode(i)},_utf8_encode:function(n){var i,r,t;for(n=n.replace(/\r\n/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i},_utf8_decode:function(n){for(var r="",t=0,i=c1=c2=0;t<n.length;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(c2=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|c2&63),t+=2):(c2=n.charCodeAt(t+1),c3=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(c2&63)<<6|c3&63),t+=3);return r}},fireEvent:function(n,t){if(document.createEventObject)return n.fireEvent("on"+t,document.createEventObject());var i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!0),!n.dispatchEvent(i)}},n.getFormattedTime=function(n){var t=n.getHours(),i=n.getMinutes(),r=null;return i<10&&(i="0"+i),r=t<12?"AM":"PM",t=t!=0?(t+11)%12+1:12,t+":"+i+" "+r},n.getFriendlyDateTime=function(i,r){function o(){return u.getDate()===i.getDate()&&u.getMonth()===i.getMonth()&&u.getFullYear()===i.getFullYear()}function e(n,t){var i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return parseInt((i.getTime()-r.getTime())/864e5)}function s(){return u.getTime()-i.getTime()>0?e(u,i)===1:!1}function h(){if(u.getTime()-i.getTime()>0){var n=e(u,i);return n>=0&&n<=7}return!1}function c(n){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()]}function l(n,t){var i=n.getTime()+n.getTimezoneOffset()*6e4;return new Date(i+36e5*t)}function a(){var n=new Date;return-n.getTimezoneOffset()/60}var u=new Date,f;return u.setHours(0,0,0,0),f=new Date,f.setHours(0,0,0,0),f.setDate(u.getDate()-7),o()?t.timeago(l(i,a()))+" at "+n.getFormattedTime(i):s()?"Yesterday at "+n.getFormattedTime(i):h()?"Last "+c(i)+" ("+r+") at "+n.getFormattedTime(i):t.datepicker.formatDate("M d, yy",i)+" at "+n.getFormattedTime(i)},n.isGuid=function(n){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)},n.getScrollbarWidth=function(){var n,i,u;return r||(t.browser.msie?(n=t('<textarea cols="10" rows="2"><\/textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),i=t('<textarea cols="10" rows="2" style="overflow: hidden;"><\/textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),r=n.width()-i.width(),n.add(i).remove()):(u=t("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),r=100-u.width(),u.parent().remove())),r},n.getUrlParamByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))},n.log=function(t){n.getUrlParamByName("epmdebug")=="true"&&console.log("[EPMLive] "+t)},n.parseJson=function(xml){return eval("("+window.xml2json(t.parseXML(xml),"")+")")},n.responseIsSuccess=function(n){return n["@Status"]==0},n.logFailure=function(t){n.log("ERROR: "+t.Error["@ID"]+". "+t.Error["#text"])},n.md5=function(n){return window.MD5(n).toUpperCase()},String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})},i.bindingHandlers.slideUpDown={update:function(n,r,u){var e=r(),o=u(),s=i.utils.unwrapObservable(e),f=o.slideDuration||600;s?t(n).slideDown(f):t(n).slideUp(f)}},i.bindingHandlers.src={update:function(n,r,u){var e=t(n);t(e).hide();var h=r(),o=u(),c=i.utils.unwrapObservable(h),s=o.alignmiddle||!1,f=o.maxDimension||45;s&&e.load(function(){var r=this.height,u=this.width,i,n;t(this).parent().height(f),t(this).parent().width(f),i=f,n=r*i/u,f<n&&(n=f,i=n*u/r),t(this).width(i),t(this).height(n),t(this).css("top",(f-n)/2),t(this).css("left",(f-i)/2),t(this).show()}),e.attr("src",c),s||t(e).show()}},i.applyBindings(n.ui.statusbar,document.getElementById("EPMLiveStatusbar"))})(window.epmLive=window.epmLive||{},jQuery,ko);
//# sourceMappingURL=EPMLive.min.js.map