(function(n,t,i){"use strict";var u=function(){var n=t.Application.create({rootElement:"#epm-social-stream"});n.ApplicationAdapter=DS.RESTAdapter.extend({namespace:window.epmLive.currentWebUrl.slice(1)+"/_vti_bin/SocialEngine.svc"});n.Day=DS.Model.extend({threads:DS.hasMany("thread"),day:function(){return i(this.get("id")).calendar()}.property()});n.Thread=DS.Model.extend({title:DS.attr(),url:DS.attr(),kind:DS.attr(),itemId:DS.attr(),lastActivityOn:DS.attr(),day:DS.belongsTo("day"),web:DS.belongsTo("web"),list:DS.belongsTo("list"),activities:DS.hasMany("activity")});n.Activity=DS.Model.extend({time:DS.attr(),metaData:DS.attr(),key:DS.attr(),kind:DS.attr(),isMassOperation:DS.attr(),user:DS.belongsTo("user"),thread:DS.belongsTo("thread")});n.Web=DS.Model.extend({title:DS.attr(),url:DS.attr(),threads:DS.hasMany("thread")});n.List=DS.Model.extend({name:DS.attr(),url:DS.attr(),threads:DS.hasMany("thread")});n.User=DS.Model.extend({name:DS.attr(),account:DS.attr(),avatar:DS.attr(),activities:DS.hasMany("activity"),hasAvatar:function(){return this.get("avatar")!==""}});n.IndexRoute=t.Route.extend({model:function(){return this.store.find("activity")},setupController:function(n,t){n.set("content",t);n.set("days",this.store.all("day"))}});n.IndexView=t.View.extend({tagName:"ul",classNames:["days"]});n.DayView=t.View.extend({tagName:"li",classNames:["day"]});n.ThreadsView=t.View.extend({tagName:"ul",classNames:["threads"]});n.ThreadView=t.View.extend({tagName:"li",classNames:["thread"],classNameBindings:["singleActivityThread"],singleActivityThread:t.computed.alias("controller.singleActivityThread")});n.ActivitiesView=t.View.extend({tagName:"ul",classNames:["activities"]});n.ActivityView=t.View.extend({tagName:"li",classNames:["activity"]});n.ThreadController=t.ObjectController.extend({singleActivityThread:function(){return this.get("activities").get("length")===1}.property("activities.@each"),firstActivity:function(){return this.get("activities").get("firstObject")}.property("activities.@each")})},r=function(){window.epmLive&&window.epmLive.currentWebUrl?(Function.prototype.property=function(){var n=t.computed(this);return n.property.apply(n,arguments)},i.lang("en",{calendar:{lastDay:"[Yesterday -]  MMMM D",sameDay:"[Today -] MMMM D",nextDay:"[Tomorrow -] MMMM D",lastWeek:"[Last] dddd [-] MMMM D",nextWeek:"dddd [-] MMMM D",sameElse:"MMMM D YYYY"}}),u()):window.setTimeout(function(){r()},1)};r()})(jQuery,Ember,moment);
/*
//# sourceMappingURL=EPMLive.SocialStream.min.js.map
*/